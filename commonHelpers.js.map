{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formRef = document.querySelector('.form');\nconst galleryRef = document.querySelector('.gallery');\nconst loaderRef = document.querySelector('.loader');\n\nloaderRef.style.display = 'none';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n});\n\n\nformRef.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const searchQuery = event.currentTarget.elements.query.value.trim();\n    getImages(searchQuery)\n        .then((result) => {\n            if (result.hits.length === 0) {\n                galleryRef.innerHTML = \"\";\n                iziToast.error({\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n                return;\n            }\n\n            galleryRef.innerHTML = \"\";\n            const markup = result.hits.map((hit) => {\n                return `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n                    <img\n                        class=\"gallery-image\"\n                        src=\"${hit.webformatURL}\"\n                        alt=\"${hit.tags}\"\n                    />\n                    <ul class=\"list\">\n                        <li class=\"list-item\"><h3>likes</h3><span>${hit.likes}</span></li>\n                        <li class=\"list-item\"><h3>views</h3><span>${hit.views}</span></li>\n                        <li class=\"list-item\"><h3>comments</h3><span>${hit.comments}</span></li>\n                        <li class=\"list-item\"><h3>downloads</h3><span>${hit.downloads}</span></li>\n                    </ul>\n                </a>\n            </li>`\n            }).join(\"\");\n\n            galleryRef.insertAdjacentHTML(`beforeend`, markup);\n            lightbox.refresh();\n        })\n        .catch((error) => {\n            iziToast.error({\n                position: 'topRight',\n                message: 'Sorry, there are no images matching your search query. Please try again!'\n            });\n        });\n\n});\n\nconst getImages = (query) => {\n    loaderRef.style.display = 'block';\n    return fetch(`https://pixabay.com/api/?key=41717891-03a798ff6847d2641a93432cc&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then((result) => {\n            if (!result.ok) {\n                throw new Error(result.status);\n            }\n            return result.json();\n        })\n        .finally(() => {\n            loaderRef.style.display = 'none';\n        });\n};\n\n\n"],"names":["formRef","galleryRef","loaderRef","lightbox","SimpleLightbox","event","searchQuery","getImages","result","iziToast","markup","hit","error","query"],"mappings":"6vBAMA,MAAMA,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAY,SAAS,cAAc,SAAS,EAElDA,EAAU,MAAM,QAAU,OAE1B,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,aAAc,KAClB,CAAC,EAGDJ,EAAQ,iBAAiB,SAAWK,GAAU,CAC1CA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,MAAM,MAAM,OAC7DE,EAAUD,CAAW,EAChB,KAAME,GAAW,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC1BP,EAAW,UAAY,GACvBQ,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EAC7B,CAAiB,EACD,MACH,CAEDR,EAAW,UAAY,GACvB,MAAMS,EAASF,EAAO,KAAK,IAAKG,GACrB;AAAA,gDACyBA,EAAI;AAAA;AAAA;AAAA,+BAGrBA,EAAI;AAAA,+BACJA,EAAI;AAAA;AAAA;AAAA,oEAGiCA,EAAI;AAAA,oEACJA,EAAI;AAAA,uEACDA,EAAI;AAAA,wEACHA,EAAI;AAAA;AAAA;AAAA,kBAI/D,EAAE,KAAK,EAAE,EAEVV,EAAW,mBAAmB,YAAaS,CAAM,EACjDP,EAAS,QAAO,CAC5B,CAAS,EACA,MAAOS,GAAU,CACdH,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EACzB,CAAa,CACb,CAAS,CAET,CAAC,EAED,MAAMF,EAAaM,IACfX,EAAU,MAAM,QAAU,QACnB,MAAM,qEAAqE,mBAAmBW,CAAK,2DAA2D,EAChK,KAAML,GAAW,CACd,GAAI,CAACA,EAAO,GACR,MAAM,IAAI,MAAMA,EAAO,MAAM,EAEjC,OAAOA,EAAO,MAC1B,CAAS,EACA,QAAQ,IAAM,CACXN,EAAU,MAAM,QAAU,MACtC,CAAS"}